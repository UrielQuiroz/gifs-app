import{b as R}from"./chunk-W5P3TFXT.js";import{Aa as D,Ha as E,Ja as g,Ka as f,L as v,P as d,Pa as o,Qa as l,Ra as h,Sa as w,Ta as y,U as u,V as S,Va as P,Za as I,_a as b,aa as T,ma as _,mb as C,oa as n}from"./chunk-DD3CTEQJ.js";var c=class i{trendingScrollState=T(0);static \u0275fac=function(e){return new(e||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};var A=["groupDiv"],F=(i,t)=>t.id;function H(i,t){if(i&1&&(o(0,"div"),h(1,"img",3),l()),i&2){let e=t.$implicit;n(),y("src",e.url,_)("alt",e.title)}}function M(i,t){if(i&1&&(o(0,"div",2),g(1,H,2,2,"div",null,F),l()),i&2){let e=t.$implicit;n(),f(e)}}var m=class i{gifService=d(R);scrollStateService=d(c);scrollDivRef=C("groupDiv");ngAfterViewInit(){let t=this.scrollDivRef()?.nativeElement;t&&(t.scrollTop=this.scrollStateService.trendingScrollState())}onScroll(t){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let r=e.scrollTop,a=e.clientHeight,p=e.scrollHeight,s=r+a+300>=p;this.scrollStateService.trendingScrollState.set(r),s&&this.gifService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=D({type:i,selectors:[["app-trending-page"]],viewQuery:function(e,r){e&1&&I(r.scrollDivRef,A,5),e&2&&b()},decls:4,vars:0,consts:[["groupDiv",""],[1,"h-screen","overflow-y-scroll","grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-4","pt-5",3,"scroll"],[1,"grid","gap-4"],[1,"h-ful","w-full","rounded-lg","object-cover",3,"src","alt"]],template:function(e,r){if(e&1){let a=w();o(0,"div",1,0),P("scroll",function(s){return u(a),S(r.onScroll(s))}),g(2,M,3,0,"div",2,E),l()}e&2&&(n(2),f(r.gifService.trendingGifGroup()))},encapsulation:2})};export{m as default};
